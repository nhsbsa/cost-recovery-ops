<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout-sidebar.html -->
{% extends 'layout-sidebar.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title inside the pageTitle block -->
{% block pageTitle %} Entitlements and treatments {% endblock %}

<!-- Breadcrumb goes inside the beforeContent block -->
{% block beforeContent %}
<nav class="nhsuk-breadcrumb nhsBSA-breadcrumb" aria-label="Breadcrumb">
  <div class="nhsuk-width-container-fluid">
    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-full">
        <ol class="nhsuk-breadcrumb__list">
          <li class="nhsuk-breadcrumb__item">
            <a class="nhsuk-breadcrumb__link" href="../../search/search-by-person">Search</a>
          </li>
          <li class="nhsuk-breadcrumb__item">
            <a class="nhsuk-breadcrumb__link" href="../../search/search-results">Search results</a>
          </li>
          <li class="nhsuk-breadcrumb__item">
            <a class="nhsuk-breadcrumb__link" href="../dependant/entitlements-and-treatments">Entitlements and treatments</a>
          </li>
        </ol>
      </div>
    </div>

    <p class="nhsuk-breadcrumb__back">
      <a class="nhsuk-breadcrumb__backlink" href="">Back to search results</a>
    </p>
  </div>
</nav>
{% endblock %}

{% block content %}
<div class="nhsBSA-sidebar-container">
  <div class="nhsBSA-sidebar-wrapper">
    <div class="nhsBSA-sidebar-content">
      <div class="nhsuk-width-container-fluid">
        <div class="nhsuk-main-wrapper" id="maincontent">
          
          
            <div class="nhsuk-grid-row">
              <div class="nhsuk-grid-column-full">
                <h1 class="nhsuk-heading-xl">Entitlements and treatments</h1>
  
                

                {% if data['add-s1-entitlement'] == 'yes' %}
                <div class="nhsuk-grid-row">
                    <div class="nhsuk-grid-column-full">
                        <a href="/version-31/s1/s072-registration/which-entitlement" class="nhsuk-button" style="float: right; margin-bottom: 20px;" role="button" data-module="nhsuk-button">
                        Register an entitlement
                        </a>
                    </div>
                </div>


                <!-- S1/S072 entitlement expander begins -->
                  <h3 class="nhsuk-heading-m" id="s1-s072-entitlements-heading">S1/S072 entitlements</h3>

                    <div class="nhsuk-expander-group">
                      <details class="nhsuk-details nhsuk-expander">
                        <summary class="nhsuk-details__summary">
                          <span role="button" class="nhsuk-details__summary-text" id="entitlement-type" aria-label="S1/S072 - Valid: 05/09/2024 - France (FR)">
                            S1/S072 - Valid: 13/12/2024 - France (FR)
                          </span>
                          <strong class="nhsuk-tag no-caps nhsuk-tag--green" style="margin-left: 15px; margin-top: 8px; " id="entitlement-status-tag">
                            Registered
                          </strong>
                          <a id="cancel-s1-entitlement" aria-label="Cancel entitlement with entitlement ID 0000000" href="#" style="float: right; margin-right: 30px; margin-top: 8px; display: block;">
                            Cancel entitlement
                         </a>
                        </summary>                      
                        


                        <div class="nhsuk-details__text">
                          <br>

                          <div class="nhsuk-action-link">

                            <dl class="nhsuk-summary-list">
                              
          
                              <div class="nhsuk-summary-list__row">
                                <dt class="nhsuk-summary-list__key">
                                  Personal identification number (PIN)
                                </dt>
                                <dd class="nhsuk-summary-list__value">
                                  0987654321
                                </dd>
                              </div>
                            </dl>
                            <!-- Entitlement details content ends -->

                            <div class="nhsuk-action-link">
                              <a class="nhsuk-action-link__link" href="../dependant/s1-entitlement-content/s1-entitlement-details">
                                <svg class="nhsuk-icon nhsuk-icon__arrow-right-circle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" width="36" height="36">
                                  <path d="M0 0h24v24H0z" fill="none"></path>
                                  <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"></path>
                                </svg>
                                <span class="nhsuk-action-link__text">View all entitlement details</span>
                              </a>
                            </div>
                          
                          </div>

                        </div>
                        
                      </details>
                    </div>
                    <!-- S1/S072 entitlement expander ends -->
                    
                    {% else %}

                    <p>No entitlements have been registered.</p>

                    <a href="/version-31/s1/s072-registration/which-entitlement" class="nhsuk-button" role="button" data-module="nhsuk-button">
                      Register an entitlement
                    </a>
                    



                    {% endif %}

                    

                    

                  </div>
                </div>
                <!-- Entitlements section ends -->


        </div>
      </div>
    </div>


    <!-- Left-hand navigation -->
    <div class="nhsBSA-sidebar-nav">
      <div class="side-nav">
        <h3>
          Jane Doe<span class="nhsuk-caption-m nhsuk-caption--bottom">
          <span class="nhsuk-u-visually-hidden"> - </span>654321</span>
        </h3>
        <ul id="options" class="options">
          <li><a href="personal-details">Personal details</a></li>
          <li><a class="active" href="entitlements-and-treatments">Entitlements and treatments</a></li>
          <li><a href="case-history-person">Case history</a></li>
          <!--li><a href="documents">Documents</a></li-->
          <li><a href="notes">Notes</a></li>
        </ul>
      </div>
    </div>
    <!-- End of navigation -->

  </div>
</div>
<!-- End of main content -->
      

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const tabs = document.querySelectorAll(".nhsuk-tabs__tab");
    const panels = document.querySelectorAll(".nhsuk-tabs__panel");

    function hideAllPanels() {
      panels.forEach(panel => panel.classList.add("nhsuk-tabs__panel--hidden"));
      tabs.forEach(tab => tab.parentElement.classList.remove("nhsuk-tabs__list-item--selected"));
    }

    function showPanel(panelId) {
      const panel = document.querySelector(panelId);
      if (panel) {
        panel.classList.remove("nhsuk-tabs__panel--hidden");
      }
    }

    tabs.forEach(tab => {
      tab.addEventListener("click", function (event) {
        event.preventDefault();
        hideAllPanels();
        tab.parentElement.classList.add("nhsuk-tabs__list-item--selected");
        showPanel(tab.getAttribute("href"));
      });
    });

    // Initially show the Personal details tab
    hideAllPanels();
    showPanel("#entitlements");
    document.querySelector('a[href="#entitlements"]').parentElement.classList.add("nhsuk-tabs__list-item--selected");
  });


   // Current Date and Time

  // JavaScript code
  var currentDateElement = document.getElementById("currentDate1");

  // Get the current date
  var currentDate = new Date();

  // Format the date as desired
  var dateOptions = { day: 'numeric', month: 'long', year: 'numeric' };
  var formattedDate = currentDate.toLocaleDateString(undefined, dateOptions);

  // Format the time as desired
  var timeOptions = { hour: 'numeric', minute: 'numeric', hour24: true };
  var formattedTime = currentDate.toLocaleTimeString(undefined, timeOptions);

  // Combine date and time
  var formattedDateTime = formattedDate + ' at ' + formattedTime;

  // Set the formatted date and time as the content of the element
  currentDateElement.textContent = formattedDateTime;
</script>
{% endblock %}
