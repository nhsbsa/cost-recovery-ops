<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout-sidebar.html' %}
<!-- 
  In /views/layout.html you can:
    - change the header and footer 
    - add custom CSS and JavaScript
-->

<!-- Set the page title inside the pageTitle block -->
{% block pageTitle %}
UK claim ID 123456 - Claim history
{% endblock %}

<!-- Breadcrumb goes inside the beforeContent block -->
{% block beforeContent %}
<!--start breadcrumb-->
<nav class="nhsuk-breadcrumb nhsBSA-breadcrumb" aria-label="Breadcrumb">
  <div class="nhsuk-width-container-fluid">
    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-full">

        <ol class="nhsuk-breadcrumb__list">
          <li class="nhsuk-breadcrumb__list-item">
            <a class="nhsuk-breadcrumb__link" href="uk-claims-search">UK claims (Search)</a>
          </li>
          <li class="nhsuk-breadcrumb__list-item">
            <a class="nhsuk-breadcrumb__link" href="uk-claims-search-results">Search results</a>
          </li>
          <li class="nhsuk-breadcrumb__list-item">View Claim ID (Claim history)</li>
        </ol>
      </div>
    </div>

    <p class="nhsuk-breadcrumb__back"><a class="nhsuk-breadcrumb__backlink" href="uk-claims-search-results">Back to search results</a></p>

  </div>
</nav>
<!--end breadcrumb-->
{% endblock %}

<!-- Your page content goes inside the content block -->
<!-- More info and code for the page layout can be found at https://beta.nhs.uk/service-manual/styles-components-patterns/layout -->
{% block content %}
<div class="nhsBSA-sidebar-container">
    <div class="nhsBSA-sidebar-wrapper">
      <div class="nhsBSA-sidebar-content">
        <div class="nhsuk-width-container-fluid">
          <div class="nhsuk-main-wrapper" id="maincontent">

            
            <div class="nhsuk-grid-row">   
              <div class="nhsuk-grid-column-one-half">
                  <h1 class="nhsuk-heading-l">Claim ID 123456 - Claim history</h1>
              </div>
            </div>

            <!--start secondary navigation-->

          <nav class="nhsuk-secondary-navigation" aria-label="Primary navigation" style="background-color:#f0f4f5;">
            <ul class="nhsuk-secondary-navigation__list">
              <li class="nhsuk-secondary-navigation__item">
                <a class="nhsuk-secondary-navigation__link" href="s1-claim-forms">Forms</a>
                <span class="nhsuk-u-visually-hidden">Search for a form</span>
              </li>

              <li class="nhsuk-secondary-navigation__item">
                <a class="nhsuk-secondary-navigation__link"  href="s1-claim-summary">Claim summary</a>
                <span class="nhsuk-u-visually-hidden">View the overall summary for claim 123456</span>
              </li>

              <li class="nhsuk-secondary-navigation__item">
                <a class="nhsuk-secondary-navigation__link" href="s1-claim-age-groups">Age groups</a>
                <span class="nhsuk-u-visually-hidden">View the age groups for claim 123456</span>
              </li>

              <li class="nhsuk-secondary-navigation__item">
                <a class="nhsuk-secondary-navigation__link" href="s1-claim-documents">Claim documents</a>
                <span class="nhsuk-u-visually-hidden">Complete any outstanding actions</span>
              </li>

              <li class="nhsuk-secondary-navigation__item">
                <a class="nhsuk-secondary-navigation__link" aria-current="page" href="s1-claim-history">Claim history</a>
                <span class="nhsuk-u-visually-hidden">View case history for claim 123456</span>
              </li>
            </ul>
          </nav>

          <hr style="border-bottom:1px solid #ccc; margin:0">
          <!--end secondary navigation-->

          <br><br>

          {% if data ['entitlement-article-type'] == 'S1/S072 - Article 65' %}
          <!--start of content for Article 65-->
          <div class="nhsuk-grid-row">
            <div class="nhsuk-grid-column-full">

                <table role="table" class="nhsuk-table-responsive">
                    <thead role="rowgroup" class="nhsuk-table__head">
                        <tr role="row">
                            <th role="columnheader" class="" scope="col">
                                Date and time
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Action
                            </th>
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Details
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Updated by
                            </th>
                        </tr>
                    </thead>

                    <tbody class="nhsuk-table__body">
                        {% if data['change-basic-personal-details'] == 'yes' %}
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span>
                                2 April 2025<br>
                                at 10:34 am 
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Claim documents regenerated
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                Changes made to John Doe's personal details.
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joe.bloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                        {% endif %}
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and Time</span>
                                <span><p id="currentDateS1ClaimSentToMS"></p></span>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Sent to member state
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                Claim sent to member state on 31/01/2025
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span>
                                <span><p id="currentDateS1ClaimSentToDH"></p></span>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Sent to DH
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                S100 Global note was uploaded to DH eXchange on 31/01/2025
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span> 
                                <p id="currentDateS1ClaimCreated"></span></p>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action
                                </span>Created
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details
                                </span>Claim created
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--end of content for Article 65 -->

        {% else %}
        <!--start of content for Article 63 -->
          <div class="nhsuk-grid-row">
            <div class="nhsuk-grid-column-full">

                <table role="table" class="nhsuk-table-responsive">
                    <thead role="rowgroup" class="nhsuk-table__head">
                        <tr role="row">
                            <th role="columnheader" class="" scope="col">
                                Date and time
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Action
                            </th>
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Details
                            </th>
                            <th role="columnheader" class="" scope="col">
                                Updated by
                            </th>
                        </tr>
                    </thead>
                    
                    <tbody class="nhsuk-table__body">
                        {% if data['change-basic-personal-details'] == 'yes' %}
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span>
                                2 April 2025<br>
                                at 10:34 am 
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Claim documents regenerated
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                Changes made to John Doe's personal details.
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joe.bloggs@nhs.net
                            </td>
                        </tr>
                        {% endif %}
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span>
                                <span><p id="currentDateS1ClaimSentToMS"></p></span>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Sent to member state
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                Claim sent to member state on 31/01/2025
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.net
                            </td>
                        </tr>
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span>
                                <span><p id="currentDateS1ClaimSentToDH"></p></span>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Sent to DH
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                S100 Global note was uploaded to DH eXchange on 31/01/2025
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                        <tr role="row" class="nhsuk-table__row">
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Date and time</span> 
                                <span><p id="currentDateS1ClaimCreated"></p></span>
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Action</span>
                                Created
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Details</span>
                                Claim created
                            </td>
                            <td role="cell" class="nhsuk-table__cell">
                                <span class="nhsuk-table-responsive__heading">Updated by</span>
                                joebloggs@nhsbsa.nhs.uk
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--end of content for Article 63 -->
        {% endif %}
              
           </div>
          </div>

<!--Side nav -->
    <!--div class="nhsBSA-sidebar-nav">
      <div class="side-nav">
        <ul>
          <div id="options" class="options">
            <h3 class="nhsuk-heading-xs">Browse</h3>
              <li>
                <a href="../s1/search/search-by-person">Search</a>
              </li>

            <h3 class="nhsuk-heading-xs">Actions</h3>
              <li>
                <a href="account-requests">Account requests<span class="notification-badge" style="background-color: #005eb8">2</span></a>
                <a href="review-forms">Review forms<span class="notification-badge" style="background-color: #005eb8">4</span></a>
                <a href="pending-entitlements">Pending entitlements<span class="notification-badge" style="background-color: #005eb8">3 </span></a>
                <a href="uk-claims-search" class="active">UK claims</a>
                <a href="resubmissions">Resubmissions<span class="notification-badge" style="background-color: #005eb8">4</span></a>
                <a href="non-eu-reciprocal-healthcare-quota">Non-EU Reciprocal Healthcare (Quota)</a>
              </li>
          </div>
        </ul>
      </div>
    </div-->

    </div>
  </div>
</div>
{% endblock %}

{% block pageScripts %}
<script>
// Function to set the current date and time
function setCurrentDateTime(elementId) {
    var dateElement = document.getElementById(elementId);
  
    if (dateElement) {
      var currentDate = new Date();
  
      var dateOptions = { day: 'numeric', month: 'long', year: 'numeric' };
      var formattedDate = currentDate.toLocaleDateString(undefined, dateOptions);
  
      var timeOptions = { hour: 'numeric', minute: 'numeric', hour12: true };
      var formattedTime = currentDate.toLocaleTimeString(undefined, timeOptions);
  
      var formattedDateTime = formattedDate + ' at ' + formattedTime;
  
      dateElement.textContent = formattedDateTime;
    }
  }

  // Set the date for each item
  document.addEventListener("DOMContentLoaded", function () {
    setCurrentDateTime("currentDateS1ClaimCreated");  // Updates date S1 claim created
    setCurrentDateTime("currentDateS1ClaimSentToDH");  // Updates date S1 claim sent to DH
    setCurrentDateTime("currentDateS1ClaimSentToMS");  // Updates date S1 claim sent to the MS
  });
</script>
{% endblock %}