{"version":3,"file":"tabs.js","names":["Tabs","constructor","$module","namespace","responsive","historyEnabled","$tabs","querySelectorAll","keys","down","left","right","up","jsHiddenClass","showEvent","CustomEvent","hideEvent","init","window","matchMedia","setupResponsiveChecks","setup","mql","addEventListener","checkMode","bind","matches","teardown","$tabList","querySelector","$tabListItems","setAttribute","forEach","$item","$tab","setAttributes","boundTabClick","onTabClick","boundTabKeydown","onTabKeydown","hideTab","$activeTab","getTab","location","hash","showTab","boundOnHashChange","onHashChange","removeAttribute","removeEventListener","unsetAttributes","$tabWithHash","changingHash","$previousTab","getCurrentTab","focus","unhighlightTab","hidePanel","highlightTab","showPanel","panelId","getHref","slice","$panel","getPanel","id","classList","add","remove","e","target","contains","stopPropagation","preventDefault","$newTab","$currentTab","createHistoryEntry","keyCode","activatePreviousTab","activateNextTab","currentTab","nextTabListItem","parentNode","nextElementSibling","nextTab","previousTabListItem","previousElementSibling","previousTab","dispatchEvent","tab","href","getAttribute","indexOf","length","tabs","document","el"],"sources":["tabs.js"],"sourcesContent":["class Tabs {\n  constructor($module, namespace, responsive, historyEnabled) {\n    this.$module = $module\n    this.namespace = namespace\n    this.responsive = responsive\n    this.historyEnabled = historyEnabled\n    this.$tabs = $module.querySelectorAll(`.${this.namespace}__tab`)\n\n    this.keys = {\n      down: 40,\n      left: 37,\n      right: 39,\n      up: 38\n    }\n    this.jsHiddenClass = `${this.namespace}__panel--hidden`\n\n    this.showEvent = new CustomEvent('tab.show')\n    this.hideEvent = new CustomEvent('tab.hide')\n  }\n\n  init() {\n    if (typeof window.matchMedia === 'function' && this.responsive) {\n      this.setupResponsiveChecks()\n    } else {\n      this.setup()\n    }\n  }\n\n  setupResponsiveChecks() {\n    // $mq-breakpoints: (\n    // mobile: 320px,\n    // tablet: 641px,\n    // desktop: 769px,\n    // large - desktop: 990px\n    // );\n    this.mql = window.matchMedia('(min-width: 641px)')\n    this.mql.addEventListener('change', this.checkMode.bind(this))\n    this.checkMode()\n  }\n\n  checkMode() {\n    if (this.mql.matches) {\n      this.setup()\n    } else {\n      this.teardown()\n    }\n  }\n\n  setup() {\n    const { $module } = this\n    const { $tabs } = this\n    const $tabList = $module.querySelector(`.${this.namespace}__list`)\n    const $tabListItems = $module.querySelectorAll(`.${this.namespace}__list-item`)\n\n    if (!$tabs || !$tabList || !$tabListItems) {\n      return\n    }\n\n    $tabList.setAttribute('role', 'tablist')\n\n    $tabListItems.forEach(($item) => {\n      $item.setAttribute('role', 'presentation')\n    })\n\n    $tabs.forEach(($tab) => {\n      // Set HTML attributes\n      this.setAttributes($tab)\n\n      // Save bounded functions to use when removing event listeners during teardown\n      // eslint-disable-next-line no-param-reassign\n      $tab.boundTabClick = this.onTabClick.bind(this)\n      // eslint-disable-next-line no-param-reassign\n      $tab.boundTabKeydown = this.onTabKeydown.bind(this)\n\n      // Handle events\n      $tab.addEventListener('click', $tab.boundTabClick, true)\n      $tab.addEventListener('keydown', $tab.boundTabKeydown, true)\n\n      // Remove old active panels\n      this.hideTab($tab)\n    })\n\n    // Show either the active tab according to the URL's hash or the first tab\n    const $activeTab = this.getTab(window.location.hash) || this.$tabs[0]\n    this.showTab($activeTab)\n\n    // Handle hashchange events\n    if (this.historyEnabled) {\n      $module.boundOnHashChange = this.onHashChange.bind(this)\n      window.addEventListener('hashchange', $module.boundOnHashChange, true)\n    }\n  }\n\n  teardown() {\n    const { $module } = this\n    const { $tabs } = this\n    const $tabList = $module.querySelector(`.${this.namespace}__list`)\n    const $tabListItems = $module.querySelectorAll(`.${this.namespace}__list-item`)\n\n    if (!$tabs || !$tabList || !$tabListItems) {\n      return\n    }\n\n    $tabList.removeAttribute('role')\n\n    $tabListItems.forEach(($item) => {\n      $item.removeAttribute('role', 'presentation')\n    })\n\n    $tabs.forEach(($tab) => {\n      // Remove events\n      $tab.removeEventListener('click', $tab.boundTabClick, true)\n      $tab.removeEventListener('keydown', $tab.boundTabKeydown, true)\n\n      // Unset HTML attributes\n      this.unsetAttributes($tab)\n    })\n\n    if (this.historyEnabled) {\n      // Remove hashchange event handler\n      window.removeEventListener('hashchange', $module.boundOnHashChange, true)\n    }\n  }\n\n  onHashChange() {\n    const { hash } = window.location\n    const $tabWithHash = this.getTab(hash)\n    if (!$tabWithHash) {\n      return\n    }\n\n    // Prevent changing the hash\n    if (this.changingHash) {\n      this.changingHash = false\n      return\n    }\n\n    // Show either the active tab according to the URL's hash or the first tab\n    const $previousTab = this.getCurrentTab()\n\n    this.hideTab($previousTab)\n    this.showTab($tabWithHash)\n    $tabWithHash.focus()\n  }\n\n  hideTab($tab) {\n    this.unhighlightTab($tab)\n    this.hidePanel($tab)\n  }\n\n  showTab($tab) {\n    this.highlightTab($tab)\n    this.showPanel($tab)\n  }\n\n  getTab(hash) {\n    return this.$module.querySelector(`.${this.namespace}__tab[href=\"${hash}\"]`)\n  }\n\n  setAttributes($tab) {\n    // set tab attributes\n    const panelId = Tabs.getHref($tab).slice(1)\n    $tab.setAttribute('id', `tab_${panelId}`)\n    $tab.setAttribute('role', 'tab')\n    $tab.setAttribute('aria-controls', panelId)\n    $tab.setAttribute('aria-selected', 'false')\n    $tab.setAttribute('tabindex', '-1')\n\n    // set panel attributes\n    const $panel = this.getPanel($tab)\n    $panel.setAttribute('role', 'tabpanel')\n    $panel.setAttribute('aria-labelledby', $tab.id)\n    $panel.classList.add(this.jsHiddenClass)\n  }\n\n  unsetAttributes($tab) {\n    // unset tab attributes\n    $tab.removeAttribute('id')\n    $tab.removeAttribute('role')\n    $tab.removeAttribute('aria-controls')\n    $tab.removeAttribute('aria-selected')\n    $tab.removeAttribute('tabindex')\n\n    // unset panel attributes\n    const $panel = this.getPanel($tab)\n    $panel.removeAttribute('role')\n    $panel.removeAttribute('aria-labelledby')\n    $panel.removeAttribute('tabindex')\n    $panel.classList.remove(this.jsHiddenClass)\n  }\n\n  onTabClick(e) {\n    if (!e.target.classList.contains(`${this.namespace}__tab`)) {\n      e.stopPropagation()\n      e.preventDefault()\n    }\n    e.preventDefault()\n    const $newTab = e.target\n    const $currentTab = this.getCurrentTab()\n    this.hideTab($currentTab)\n    this.showTab($newTab)\n    this.createHistoryEntry($newTab)\n  }\n\n  createHistoryEntry($tab) {\n    if (this.historyEnabled) {\n      const $panel = this.getPanel($tab)\n\n      // Save and restore the id\n      // so the page doesn't jump when a user clicks a tab (which changes the hash)\n      const { id } = $panel\n      $panel.id = ''\n      this.changingHash = true\n      window.location.hash = Tabs.getHref($tab).slice(1)\n      $panel.id = id\n    }\n  }\n\n  onTabKeydown(e) {\n    switch (e.keyCode) {\n      case this.keys.left:\n      case this.keys.up:\n        this.activatePreviousTab()\n        e.preventDefault()\n        break\n      case this.keys.right:\n      case this.keys.down:\n        this.activateNextTab()\n        e.preventDefault()\n        break\n\n      default:\n    }\n  }\n\n  activateNextTab() {\n    const currentTab = this.getCurrentTab()\n    const nextTabListItem = currentTab.parentNode.nextElementSibling\n    let nextTab\n\n    if (nextTabListItem) {\n      nextTab = nextTabListItem.querySelector(`.${this.namespace}__tab`)\n    }\n    if (nextTab) {\n      this.hideTab(currentTab)\n      this.showTab(nextTab)\n      nextTab.focus()\n      this.createHistoryEntry(nextTab)\n    }\n  }\n\n  activatePreviousTab() {\n    const currentTab = this.getCurrentTab()\n    const previousTabListItem = currentTab.parentNode.previousElementSibling\n    let previousTab\n\n    if (previousTabListItem) {\n      previousTab = previousTabListItem.querySelector(`.${this.namespace}__tab`)\n    }\n    if (previousTab) {\n      this.hideTab(currentTab)\n      this.showTab(previousTab)\n      previousTab.focus()\n      this.createHistoryEntry(previousTab)\n    }\n  }\n\n  getPanel($tab) {\n    const $panel = this.$module.querySelector(Tabs.getHref($tab))\n    return $panel\n  }\n\n  showPanel($tab) {\n    const $panel = this.getPanel($tab)\n    $panel.classList.remove(this.jsHiddenClass)\n    $panel.dispatchEvent(this.showEvent)\n  }\n\n  hidePanel(tab) {\n    const $panel = this.getPanel(tab)\n    $panel.classList.add(this.jsHiddenClass)\n    $panel.dispatchEvent(this.hideEvent)\n  }\n\n  unhighlightTab($tab) {\n    $tab.setAttribute('aria-selected', 'false')\n    $tab.parentNode.classList.remove(`${this.namespace}__list-item--selected`)\n    $tab.setAttribute('tabindex', '-1')\n  }\n\n  highlightTab($tab) {\n    $tab.setAttribute('aria-selected', 'true')\n    $tab.parentNode.classList.add(`${this.namespace}__list-item--selected`)\n    $tab.setAttribute('tabindex', '0')\n  }\n\n  getCurrentTab() {\n    return this.$module.querySelector(`.${this.namespace}__list-item--selected .${this.namespace}__tab`)\n  }\n\n  // this is because IE doesn't always return the actual value but a relative full path\n  // should be a utility function most prob\n  // http://labs.thesedays.com/blog/2010/01/08/getting-the-href-value-with-jquery-in-ie/\n  static getHref($tab) {\n    const href = $tab.getAttribute('href')\n    const hash = href.slice(href.indexOf('#'), href.length)\n    return hash\n  }\n}\n\n/**\n * Main function to invoke tabs. Can be called as follows to alter various features\n *\n * Tabs({historyEnabled: false});\n * Tabs({responsive: false});\n * Tabs({namespace: 'my-custom-namespace'});  // Alters classes allowing alternative css\n */\nexport default ({ namespace = 'nhsuk-tabs', responsive = true, historyEnabled = true } = {}) => {\n  const tabs = document.querySelectorAll(`[data-module=\"${namespace}\"]`)\n  tabs.forEach((el) => {\n    new Tabs(el, namespace, responsive, historyEnabled).init()\n  })\n}"],"mappings":"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","ignoreList":[]}